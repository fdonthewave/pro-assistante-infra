# CT 870 - FileBrowser + Authelia SSO
# Pro-Assistante client portals
# Date: 23 Nov 2025

version: '3.8'

services:
  filebrowser:
    image: filebrowser/filebrowser:latest
    container_name: filebrowser
    restart: unless-stopped
    ports:
      - "8080:80"
    volumes:
      - /mnt/partage-clients:/srv
      - ./filebrowser.db:/database.db
      - ./filebrowser.json:/.filebrowser.json
    environment:
      - FB_NOAUTH=false

  authelia:
    image: authelia/authelia:latest
    container_name: authelia
    restart: unless-stopped
    ports:
      - "9091:9091"
    volumes:
      - ./authelia:/config
    environment:
      - TZ=Europe/Paris

networks:
  default:
    name: ct870-network
